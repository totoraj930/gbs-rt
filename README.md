# Granblue Search for リアルタイム検索

## ⛔現在はテスト段階です。

リアルタイム検索でツイ救援をするやつ。

**必ず「リストから検索」を使って検索を開始してください。**

**🚧現在リスト外のマルチには対応していません。**

どうしても手動で検索したい場合は必ず以下のようにしてください。

```
# レベルがある場合
"Lv150 プロトバハムート" ID

# レベルがない場合
"黄龍・黒麒麟HL" ID
```

---

## 仕組み

1. リアルタイム検索のページ上でJavaScriptを実行して、独自のUIなどを追加します。
2. ページが更新されるたび、表示されているツイートの情報を読み取ります。
3. 読み取ったツイート情報をGranblue Searchのサーバーに送信して、重複ツイートかどうかなどの確認をします。
4. Granblue Searchのサーバーから情報が付与されたツイートデータを受信して表示します。

リアルタイム検索の動作には干渉しない形で制作しています。(更新ボタンの自動クリック等は除く)

リアルタイム検索は基本5秒おきに更新されます。

ですが、ユーザーごとに更新タイミングがバラバラです。

そのためGranblue Searchのサーバーで各自で受信したツイートを同期することで、リアルタイム検索自体のトラフィックは増やさずに、より滑らかなツイート取得が可能になります。

同じマルチを検索している人数が右上に表示されるようになっているので参考にしてください。

---

## PC (Chrome)

### 導入

#### 1. TampermonkeyをChromeに追加

https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo

ユーザースクリプトの実行に必要です。

#### 2. ユーザースクリプトをインポート

https://gist.github.com/totoraj930/946fbd9130761924f76f673ae83dc0d2

↑のページのRawボタンを右クリックして「リンクアドレスをコピー」します。

Tampermonkeyの設定ページから「ユーティリティ」を開き、「URLからインポート」の項目に貼り付けてインポートします。

### 使い方

1. [Yahoo!リアルタイム検索](https://search.yahoo.co.jp/realtime)を開く
2. 「リストから検索」で目的のマルチを選択して検索ページに移動

---

## iPhone/iPad

### 導入

ショートカットを追加してください。

- リアルタイム検索でツイ救援を起動するショートカット
  - https://www.icloud.com/shortcuts/4fbb4a3bb59f4bd09d20a310ec6051e3
- コピーしてSkyLeapを開くショートカット(オプション)
  - https://www.icloud.com/shortcuts/80d96dd9a4b24eb1be121c353412597b

### 使い方

1. [Yahoo!リアルタイム検索](https://search.yahoo.co.jp/realtime)をSafariで開く
2. 共有パネルから「Granblue Search for リアルタイム検索」を起動
3. 「リストから検索」で目的のマルチを選択
4. ページが移動したらもう一度「Granblue Search for リアルタイム検索」を起動

3で移動した検索ページを共有パネルから「ホーム画面に追加」しておくと1~3の手順が省けます。

---

## Android

🚧準備中